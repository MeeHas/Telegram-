<?php

// ุชุนุฑูู ุงูุชููู
define('API_KEY', '7554474413:AAGsfj7hrhXNqc84m8CUdESmbA7GYLl_QW4');

// ูุธููุฉ ุงูุงุชุตุงู ุจูุงุฌูุฉ Telegram API
function bot($method, $datas = []) {
    $url = "https://api.telegram.org/bot" . API_KEY . "/" . $method;
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL, $url);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_POSTFIELDS, $datas);
    $res = curl_exec($ch);
    if (curl_error($ch)) {
        return curl_error($ch);
    } else {
        return json_decode($res);
    }
}

// ุงุณุชูุจุงู ุงูุชุญุฏูุซุงุช ูู Telegram
$update = json_decode(file_get_contents("php://input"));
$message = $update->message;
$chat_id = $message->chat->id;
$text = $message->text;

// ุฑุณุงูุฉ ุงูุชุฑุญูุจ ุนูุฏ ุงุณุชุฎุฏุงู ุงูุฃูุฑ /start
if ($text == "/start") {
    bot('sendMessage', [
        'chat_id' => $chat_id,
        'text' => "ูุฑุญุจูุง ุจู ูู ุจูุช ุงููุฑุขู ุงููุฑูู ๐.

- ููููู ุงูุงุณุชูุงุน ุฅูู ุฃู ุณูุฑุฉ ุนู ุทุฑูู ูุชุงุจุฉ ุงุณููุง.
- ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉุ ูุฑุฌู ุงูุชูุงุตู ูุน ุงููุทูุฑ.
ูุซุงู: ุฃุฑุณู *ุงููุงุชุญุฉ* ุฃู *ุงูุจูุฑุฉ* ููุงุณุชูุงุน.",
        'parse_mode' => "markdown",
    ]);
}

// ุฑูุงุจุท ุงูุณูุฑ ุงููุฑุขููุฉ
$sura_links = [
    "ุงููุงุชุญุฉ" => "https://server7.mp3quran.net/basit/001.mp3",
    "ุงูุจูุฑุฉ" => "https://server7.mp3quran.net/basit/002.mp3",
    "ุขู ุนูุฑุงู" => "https://server7.mp3quran.net/basit/003.mp3",
    "ุงููุณุงุก" => "https://server7.mp3quran.net/basit/004.mp3",
    "ุงููุงุฆุฏุฉ" => "https://server7.mp3quran.net/basit/005.mp3",
    "ุงูุฃูุนุงู" => "https://server7.mp3quran.net/basit/006.mp3",
    "ุงูุฃุนุฑุงู" => "https://server7.mp3quran.net/basit/007.mp3",
    "ุงูุฃููุงู" => "https://server7.mp3quran.net/basit/008.mp3",
    "ุงูุชูุจุฉ" => "https://server7.mp3quran.net/basit/009.mp3",
    "ูููุณ" => "https://server7.mp3quran.net/basit/010.mp3",
    "ููุฏ" => "https://server7.mp3quran.net/basit/011.mp3",
    "ููุณู" => "https://server7.mp3quran.net/basit/012.mp3",
    "ุงูุฑุนุฏ" => "https://server7.mp3quran.net/basit/013.mp3",
    "ุฅุจุฑุงููู" => "https://server7.mp3quran.net/basit/014.mp3",
    "ุงูุญุฌุฑ" => "https://server7.mp3quran.net/basit/015.mp3",
    "ุงููุญู" => "https://server7.mp3quran.net/basit/016.mp3",
    "ุงูุฅุณุฑุงุก" => "https://server7.mp3quran.net/basit/017.mp3",
    "ุงูููู" => "https://server7.mp3quran.net/basit/018.mp3",
    "ูุฑูู" => "https://server7.mp3quran.net/basit/019.mp3",
    "ุทู" => "https://server7.mp3quran.net/basit/020.mp3",
    "ุงูุฃูุจูุงุก" => "https://server7.mp3quran.net/basit/021.mp3",
    "ุงูุญุฌ" => "https://server7.mp3quran.net/basit/022.mp3",
    "ุงููุคูููู" => "https://server7.mp3quran.net/basit/023.mp3",
    "ุงูููุฑ" => "https://server7.mp3quran.net/basit/024.mp3",
    "ุงููุฑูุงู" => "https://server7.mp3quran.net/basit/025.mp3",
    "ุงูุดุนุฑุงุก" => "https://server7.mp3quran.net/basit/026.mp3",
    "ุงูููู" => "https://server7.mp3quran.net/basit/027.mp3",
    "ุงููุตุต" => "https://server7.mp3quran.net/basit/028.mp3",
    "ุงูุนููุจูุช" => "https://server7.mp3quran.net/basit/029.mp3",
    "ุงูุฑูู" => "https://server7.mp3quran.net/basit/030.mp3",
    "ูููุงู" => "https://server7.mp3quran.net/basit/031.mp3",
    "ุงูุณุฌุฏุฉ" => "https://server7.mp3quran.net/basit/032.mp3",
    "ุงูุฃุญุฒุงุจ" => "https://server7.mp3quran.net/basit/033.mp3",
    "ุณุจุฃ" => "https://server7.mp3quran.net/basit/034.mp3",
    "ูุงุทุฑ" => "https://server7.mp3quran.net/basit/035.mp3",
    "ูุณ" => "https://server7.mp3quran.net/basit/036.mp3",
    "ุงูุตุงูุงุช" => "https://server7.mp3quran.net/basit/037.mp3",
    "ุต" => "https://server7.mp3quran.net/basit/038.mp3",
    "ุงูุฒูุฑ" => "https://server7.mp3quran.net/basit/039.mp3",
];

// ุฅุฑุณุงู ุงูุณูุฑุฉ ุจูุงุกู ุนูู ุงููุต
if (array_key_exists($text, $sura_links)) {
    bot('sendAudio', [
        'chat_id' => $chat_id,
        'audio' => $sura_links[$text],
        'caption' => "ุงุณุชูุน ุฅูู ุณูุฑุฉ $text ๐",
    ]);
} else if ($text != "/start") {
    bot('sendMessage', [
        'chat_id' => $chat_id,
        'text' => "ุนุฐุฑูุงุ ูู ุฃุชููู ูู ุงูุชุนุฑู ุนูู ุงูุณูุฑุฉ. ูุฑุฌู ุงูุชุฃูุฏ ูู ูุชุงุจุฉ ุงุณู ุงูุณูุฑุฉ ุจุดูู ุตุญูุญ.",
    ]);
}